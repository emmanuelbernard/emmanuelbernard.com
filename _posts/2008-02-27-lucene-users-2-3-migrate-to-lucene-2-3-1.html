---
title: 'Lucene users (2.3): migrate to Lucene 2.3.1'
author: 'Emmanuel Bernard'
tags: [ lucene ]
date: 2008-02-27
---
<p>In some specific cases, Lucene 2.3.0 can corrupt your index. It happens in very specific cases:<br/><ul><li>you use autoCommit=false on IndexWriter<br/></li><li>or multiple                 threads are adding documents where some have term-vector enabled                 fields and some don't</li></ul>These particular situations do not occur in the regular use of Hibernate Search, but upgrading to Lucene 2.3.1 works fine, so go upgrade, you won't be bitten later. Native Lucene users should upgrade as well.<br/><br/>Here is the official Lucene team announcement<br/><br/><h3 class='boxed'/><blockquote><h3 class='boxed'>Lucene Java 2.3.1 available</h3> <p>                 This release contains fixes for serious bugs in 2.3.0 that could cause                 index corruptions in <b>autoCommit=false mode</b> or in cases where multiple                 threads are adding documents where <b>some have term-vector enabled                 fields and some don't</b>.  The autoCommit option was added to IndexWriter                 with release 2.2.0. If not explicitly set to false, the IndexWriter                 runs in autoCommit=true mode.               </p> <p>                 See          <a href='http://svn.apache.org/repos/asf/lucene/java/tags/lucene_2_3_1/CHANGES.txt'>CHANGES.txt</a>                 for a detailed listing of changes.               </p> <p>                 2.3.1 does not contain any new features, API or file format changes,                 which makes it fully compatible to 2.3.0.               </p> <p> <b>                 We would like to encourage everyone who is currently using Lucene Java 2.3.0                 to upgrade to 2.3.1 to prevent possible index corruptions!                </b></p></blockquote><p><b/> </p><br/><br/>Lucene is available at <a href='http://www.apache.org/dyn/closer.cgi/lucene/java/'>apache.org</a>.</p>
